<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
<title><#:C('sitename')#>--代理商平台</title>
<meta name="keywords" content="<#:C('keyword')#>"/>
<meta name="description" content="<#:C('content')#>"/>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<include file="Pub:Css"/>
<link rel="stylesheet" href="<#$Theme['P']['root']#>/matrix/css/datepicker.css" />
</head>
<body>
<include file="Pub:top"/>
<include file="Pub:nav"/>
<!--main-container-part-->
<div id="content">
  <!--breadcrumbs-->
  <div id="content-header">
    <div id="breadcrumb"> <a href="<#:U('index/index')#>" title="返回首页" class="tip-bottom"><i class="icon-home"></i>首页</a></div>
  </div>
  <!--End-breadcrumbs-->
  <div class="container-fluid" >
      <div class="widget-box widget-plain">
      <div class="center">
        <ul class="stat-boxes2">
          <li>
            <div class="left peity_bar_neutral"><span><span style="display: none;">2,4,9,7,12,10,12</span>
              <canvas width="50" height="24"></canvas>
              </span></div>
            <div class="right"> <strong id="sumauth">0</strong> 流量统计 </div>
          </li>
          <li>
            <div class="left peity_line_neutral"><span><span style="display: none;">10,15,8,14,13,10,10,15</span>
              <canvas width="50" height="24"></canvas>
              </span></div>
            <div class="right"> <strong  id="sumuser">0</strong>新增用户 </div>
          </li>
          <li>
            <div class="left peity_bar_bad"><span><span style="display: none;">3,5,6,16,8,10,6</span>
              <canvas width="50" height="24"></canvas>
              </span></div>
            <div class="right"> <strong id="sumshopad">0</strong> 商户广告统计</div>
          </li>
          <li>
            <div class="left peity_line_good"><span><span style="display: none;">12,6,9,23,14,10,17</span>
              <canvas width="50" height="24"></canvas>
              </span></div>
            <div class="right"> <strong id="sumpushad">0</strong> 投放广告统计</div>
          </li>
         
        </ul>
      </div>
    </div>
    <hr>
    <div class="row-fluid">
       			<div class="span4">
       				 <div id="main" style="height:330px"></div>
       			</div>
       			
       			<div class="span4">
       				 <div id="second" style="height:330px"></div>
       			
       			</div>
       			<div class="span4">
       				 <div id="method" style="height:330px"></div>
       			
       			</div>
       			</div>
  <!--<div class="row-fluid">
      <div class="span6">
        <div class="widget-box">
          <div class="widget-title"> <span class="icon"> <i class="icon-signal"></i> </span>
            <h5>流量统计</h5>
          </div>
          <div class="widget-content">
            <div class="chart" id="authchart"></div>
          </div>
        </div>
      </div>
      <div class="span6">
        <div class="widget-box">
          <div class="widget-title"> <span class="icon"> <i class="icon-signal"></i> </span>
            <h5>用户统计</h5>
          </div>
          <div class="widget-content">
            <div class="chart" id="userchart"></div>
          </div>
        </div>
      </div>
    </div>-->
    <div class="span12" align="center">
       			<button class="btn btn-default btn-large" id="forline">今日认证人数分布</button>&nbsp;&nbsp;
       			<button class="btn btn-info btn-large" id="foryesterday">昨日认证人数分布</button>&nbsp;&nbsp;
       			<button class="btn btn-success btn-large" id="formonth">本月认证人数分布</button>
       			</div>
       			<hr>
       			
       			<hr><div align="center">
       				
       			
       			<!--<div class="controls controls-row span12">
 				<label class="control-label span1">开始日期:</label>
 			    <input type="text" id="sdate" value="<php>echo date("Y-m-01")</php>" data-date-format="yyyy-mm-dd" class="span3 datepicker" readonly="readonly">
   				<label class="control-label span1">结束日期:</label>
  				<input type="text" id="edate" value="<php>echo date("Y-m-d")</php>" data-date-format="yyyy-mm-dd" class="span3 datepicker" readonly="readonly">
    			<a class="btn btn-danger span1" id="query">查询</a>
   				 </div>-->
   				 </div>
       		<div class="row-fluid" >
       		 <div id="line" style="height:300px;"></div>
       		</div>
       		<div class="row-fluid">
       		 <div id="yesterday" style="height:300px;"></div>
       		</div>
       		<div  hideclass="row-fluid">
       		 <div id="month" style="height:300px;"></div>
       		</div>
       		
       		<div  hideclass="row-fluid">
       		 <div id="new" style="height:300px;"></div>
       		</div>
    <div class="row-fluid">
      <div class="span6">
        <div class="widget-box">
          <div class="widget-title"> <span class="icon"> <i class="icon-signal"></i> </span>
            <h5>商户广告统计</h5>
          </div>
          <div class="widget-content">
            <div class="chart" id="shopchart"></div>
          </div>
        </div>
      </div>
      <div class="span6">
        <div class="widget-box">
          <div class="widget-title"> <span class="icon"> <i class="icon-signal"></i> </span>
            <h5>推送广告统计</h5>
          </div>
          <div class="widget-content">
            <div class="chart" id="pushchart"></div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script src="<#$Theme['P']['root']#>/matrix/js/jquery.ui.custom.js"></script> 
<script src="<#$Theme['P']['root']#>/matrix/js/bootstrap.min.js"></script> 
<script src="<#$Theme['P']['root']#>/matrix/js/dist/echarts.js"></script>
<script src="<#$Theme['P']['root']#>/matrix/js/bootstrap-datepicker.js"></script> 
<script src="<#$Theme['P']['root']#>/matrix/js/matrix.js"></script> 
<script src="<#$Theme['P']['js']#>/flot/jquery.flot.js"></script> 
<script src="<#$Theme['P']['root']#>/matrix/js/jquery.peity.min.js"></script> 
<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="<#$Theme['P']['js']#>/flot/excanvas.min.js"></script><![endif]-->  
<script>
 require.config({
            paths: {
                echarts: "<#$Theme['P']['root']#>/matrix/js/dist"
            }
        });
   	require(
            [
                'echarts',
                'echarts/chart/line',   // 按需加载所需图表，如需动态类型切换功能，别忘了同时加载相应图表
                'echarts/chart/pie'
            ],

   function (ec) {
       
       var option = {
      color: [ 
    '#ff7f50', '#00CD00', '#da70d6', '#32cd32', '#6495ed', 
    '#ff69b4', '#ba55d3', '#cd5c5c', '#ffa500', '#40e0d0', 
    '#1e90ff', '#ff6347', '#7b68ee', '#00fa9a', '#ffd700', 
    '#6b8e23', '#ff00ff', '#3cb371', '#b8860b', '#30e0e0' 
],
      backgroundColor:'rgba(217,217,217,0)',
       title : {
        text: '设备在线状况图',
        subtext: '在线设备:<#$a#>/离线设备:<#$b#>',
        x:'center',
        textStyle :{
        	fontSize: 14,
   			fontWeight: 'bolder',
            color: '#333'

        }
    },
     tooltip : {
     	
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
//  legend: {
//  	padding :16,
//		orient : 'vertical',
//		
//      x : 'left',
//      data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
//  },
    toolbox: {
        show : true,
         orient: 'vertical', 
         padding: 8,       
        feature : {
          
            dataView : {show: true, title : '设备状况',readOnly: true},
            magicType : {
                show: false, 
                type: ['pie', 'funnel'],
                option: {
                    funnel: {
                        x: '25%',
                        width: '50%',
                        funnelAlign: 'center',
                        max: 1548
                    }
                }
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    series : [
        {
            name:'在线设备状况',
            type:'pie',
      
             center:['50%', '58%'],
            radius : ['30%', '60%'],
           
            itemStyle : {
                normal : {
                    label : {
                        show : false
                    },
                    labelLine : {
                        show : false
                    }
                },
                emphasis : {
                    label : {
                        show : true,
                        position : 'outer',
                        textStyle : {
                            fontSize : '15',
                            fontWeight : 'bold'
                        }
                    }
                }
            },
          
            data:[
                
                {value:<#$b#>, name:'离线设备'},
                {value:<#$a#>, name:'在线设备'},
                
            ]
        }
    ]
};
      var method = {
      color: [ 
    '#1e90ff', '#ff6347', '#7b68ee', '#00fa9a', '#ffd700', 
    '#6b8e23', '#ff00ff', '#3cb371', '#b8860b', '#30e0e0' 
],
      backgroundColor:'rgba(217,217,217,0)',
       title : {
        text: '认证方式分布图',
      	 x:'center',
        textStyle :{
        	fontSize: 14,
   			fontWeight: 'bolder',
            color: '#333'

        }
    },
     tooltip : {
     	
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
//  legend: {
//  	padding :16,
//		orient : 'vertical',
//		
//      x : 'left',
//      data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
//  },
    toolbox: {
        show : true,
         orient: 'vertical', 
         padding: 8,       
        feature : {
          
            dataView : {show: true, title : '认证分布状况',readOnly: true},
            magicType : {
                show: false, 
                type: ['pie', 'funnel'],
                option: {
                    funnel: {
                        x: '25%',
                        width: '50%',
                        funnelAlign: 'center',
                        max: 1548
                    }
                }
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    series : [
        {
            name:'认证分布统计',
            type:'pie',
      
             center:['50%', '58%'],
            radius : ['30%', '60%'],
           
            itemStyle : {
                normal : {
                    label : {
                        show : false
                    },
                    labelLine : {
                        show : false
                    }
                },
                emphasis : {
                    label : {
                        show : true,
                        position : 'outer',
                        textStyle : {
                            fontSize : '15',
                            fontWeight : 'bold'
                        }
                    }
                }
            },
          
            data:[
                 {value:<#$c#>, name:'注册认证'},
                {value:<#$d#>, name:'手机认证'},
                {value:<#$e#>, name:'直接上网'},
                {value:<#$f#>, name:'微信认证'},
                 {value:<#$g#>, name:'微信分享'},
               
            ]
        }
    ]
};
var optionline = {

 	color:['#ffa500'],
 	 backgroundColor:'rgba(217,217,217,0)',
    title : {
        text: '认证人数分布图',
         x:'center',
        subtext: '总认证人数<#$todaynum#>'
    },
    tooltip : {
        trigger: 'axis'
    },
 calculable : true,
    toolbox: {
        show : true,
         padding: 20, 
          orient: 'vertical',
        feature : {
         
            dataView : {show: true, readOnly: false},
           
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
             data : function (){
            	 var list = [];
             
                for(var i=0;i<=23;i++){
                	date=i;
                    list.push(date);
                }
                return list;
            }()
//          data : function (){
//          	var myDate = new Date();
//				var thisyear = myDate.getFullYear();
//				var thismonth = myDate.getMonth()+1;
//				var thisdate=myDate.getDate(); 
//              var list = [];
//              var n = 0;
//              while (n++ < thisdate-1) {
//              	var date=thisyear+'-'+thismonth+'-'+n;
//                  list.push(date);
//              }
//              return list;
//          }()
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
       
          {
            name:'认证人数',
            type:'line',
            stack: '总量',
            itemStyle: {normal: {areaStyle: {type: 'dark'}}},
            data:function(){
            	var list=<#$todays#>;
            	var arr=[];
            	arr=[
            	list[0],
            	list[1],
            	list[2],
            	list[3],
            	list[4],
            	list[5],
            	list[6],
            	list[7],
            	list[8],
            	list[9],
            	list[10],
            	list[11],
            	list[12],
            	list[13],
            	list[14],
            	list[15],
            	list[16],
            	list[17],
            	list[18],
            	list[19],
            	list[20],
            	list[21],
            	list[22],
            	list[23]];
            	return arr;
            }()
        },
  
    ]
};
var yesterday = {
    title : {
        text: '昨日认证人数分布图',
         x:'center',
        subtext: '认证总人数:<#$yesnum#>'
    },
    tooltip : {
        trigger: 'axis'
    },
 calculable : true,
    toolbox: {
        show : true,
         padding: 20, 
          orient: 'vertical',
        feature : {
         
            dataView : {show: true, readOnly: false},
           
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
            data : function (){
            	 var list = [];
             
                for(var i=0;i<=23;i++){
                	date=i;
                    list.push(date);
                }
                return list;
            }()
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
       
          {
            name:'认证人数',
            type:'line',
            stack: '总量',
            itemStyle: {normal: {areaStyle: {type: 'dark'}}},
            data:function(){
            	var list=<#$yesterdays#>;
            	var arr=[];
            	arr=[
            	list[0],
            	list[1],
            	list[2],
            	list[3],
            	list[4],
            	list[5],
            	list[6],
            	list[7],
            	list[8],
            	list[9],
            	list[10],
            	list[11],
            	list[12],
            	list[13],
            	list[14],
            	list[15],
            	list[16],
            	list[17],
            	list[18],
            	list[19],
            	list[20],
            	list[21],
            	list[22],
            	list[23]];
            	return arr;
            }()
        },
   
    ]
};
var second={
      color: [ 
    '#ff7f50', '#00CD00', '#da70d6', '#32cd32', '#6495ed', 
    '#ff69b4', '#ba55d3', '#cd5c5c', '#ffa500', '#40e0d0', 
    '#1e90ff', '#ff6347', '#7b68ee', '#00fa9a', '#ffd700', 
    '#6b8e23', '#ff00ff', '#3cb371', '#b8860b', '#30e0e0' 
],
noDataLoadingOption:{
	text :'设备固件不支持,暂无数据,请到官网下载最新固件',
	effect:'ring',
	
	
	
},
      backgroundColor:'rgba(217,217,217,0)',
       title : {
        text: '设备线人数统计图',
        subtext: '总在线人数:<#$num#>',
        x:'center',
        textStyle :{
        	fontSize: 14,
   			fontWeight: 'bolder',
            color: '#333'

        }
    },
     tooltip : {
     	
        trigger: 'item',
        formatter: "{a}<br/>路由器名称:{b} : 在线人数 :{c} ({d}%)"
    },

    toolbox: {
        show : true,
         orient: 'vertical', 
         padding: 8,       
        feature : {
          
            dataView : {show: true, title : '设备状况',readOnly: true},
            magicType : {
                show: false, 
                type: ['pie', 'funnel'],
                option: {
                    funnel: {
                        x: '25%',
                        width: '50%',
                        funnelAlign: 'center',
                        max: 1548
                    }
                }
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    series : [
        {
            name:'设备在线人数统计',
            type:'pie',
      
             center:['50%', '58%'],
            radius : ['0%', '60%'],
           
            itemStyle : {
                normal : {
                    label : {
                        show : false
                    },
                    labelLine : {
                        show : false
                    }
                },
                emphasis : {
                    label : {
                        show : true,
                        position : 'outer',
                        textStyle : {
                            fontSize : '15',
                            fontWeight : 'bold'
                        }
                    }
                }
            },
        
            data: function(){
	   			var info =<#$list#>;
				var list = [];
           		for(var vo in info) {
         		var	routeinfo={};
         		routeinfo={
         		value:info[vo]['wlan_user_num'],
         		name:info[vo]['routename']
         		};	
                	list.push(routeinfo);
           		}
           		return list;
           	}()
        }
    ]
};
var optionmonth = {

 	color:['#7b68ee'],
 	 backgroundColor:'rgba(217,217,217,0)',
    title : {
        text: '本月认证人数分布图',
         x:'center',
        subtext: '总认证人数<#$monthnum#>'
    },
    tooltip : {
        trigger: 'axis'
    },
 calculable : true,
    toolbox: {
        show : true,
         padding: 20, 
          orient: 'vertical',
        feature : {
         
            dataView : {show: true, readOnly: false},
           
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    xAxis : [
        {
            type : 'category',
            boundaryGap : false,
             
            data : function (){
            	var myDate = new Date();
				var thisyear = myDate.getFullYear();
				var thismonth = myDate.getMonth()+1;
				var thisdate=myDate.getDate(); 
                var list = [];
                var n = 0;
                while (n++ < thisdate-1) {
                	var date=thisyear+'-'+thismonth+'-'+n;
                    list.push(date);
                }
                return list;
            }()
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
       
          {
            name:'认证人数',
            type:'line',
            stack: '总量',
            itemStyle: {normal: {areaStyle: {type: 'dark'}}},
            data:function(){
            	var monthinfo=<#$monthjs#>;
            	var arr=[];
            	var forforlist=[];
            	var arrdate=function (){
            	var myDate = new Date();
				var thisyear = myDate.getFullYear();
				var thismonth = myDate.getMonth()+1;
				var thisdate=myDate.getDate(); 
                var lists = [];
                var n = 0;
                while (n++ < thisdate-1) {
                	if(thismonth>=10){
                		datemonth=thismonth;
                		}else{
                		datemonth='0'+thismonth;
                		}
                	if(n>=10){
                		dateday=n;
                	}else{
                		dateday='0'+n;
                	}
                	var date=thisyear+'-'+datemonth+'-'+dateday;
                    lists.push(date);
                }
                return lists;
            }()
           var  forlist=function(){
          		for(var s in monthinfo){
          		forforlist.push(monthinfo[s][0]);
          		}
          		return forforlist;
          		}()
      		for(var v in arrdate){
            	if(forlist.indexOf(arrdate[v])<0){
            		
            		 arr.push(0);
            	}else{
            	for(var k in monthinfo){
            	if(arrdate[v]==monthinfo[k][0]){
            		arr.push(monthinfo[k][1]);
            		break ; 
            	}
           	    }
            	}
            	}
				
         		return arr;
            }()
//         
        },
  
    ]
};
var myChart = ec.init(document.getElementById('main'));
   myChart.setOption(option); 
//表1
var myChartsecond = ec.init(document.getElementById('second'));
myChartsecond.setOption(second);
var myChartmet = ec.init(document.getElementById('method'));
myChartmet.setOption(method); 
var myChartline = ec.init(document.getElementById('line'));
myChartline.setOption(optionline); 
var myChartyes = ec.init(document.getElementById('yesterday'));
myChartyes.setOption(yesterday); 
var myChartmon = ec.init(document.getElementById('month'));
myChartmon.setOption(optionmonth); 


}
)












maruti = {
		// === Peity charts === //
		peity: function(){		
			$.fn.peity.defaults.line = {
				strokeWidth: 1,
				delimeter: ",",
				height: 24,
				max: null,
				min: 0,
				width: 50
			};
			$.fn.peity.defaults.bar = {
				delimeter: ",",
				height: 24,
				max: null,
				min: 0,
				width: 50
			};
			$(".peity_line_good span").peity("line", {
				colour: "#57a532",
				strokeColour: "#459D1C"
			});
			$(".peity_line_bad span").peity("line", {
				colour: "#FFC4C7",
				strokeColour: "#BA1E20"
			});	
			$(".peity_line_neutral span").peity("line", {
				colour: "#CCCCCC",
				strokeColour: "#757575"
			});
			$(".peity_bar_good span").peity("bar", {
				colour: "#459D1C"
			});
			$(".peity_bar_bad span").peity("bar", {
				colour: "#BA1E20"
			});	
			$(".peity_bar_neutral span").peity("bar", {
				colour: "#4fb9f0"
			});
		},

		// === Tooltip for flot charts === //
		flot_tooltip: function(x, y, contents) {
			
			$('<div id="tooltip">' + contents + '</div>').css( {
				top: y + 5,
				left: x + 5
			}).appendTo("body").fadeIn(200);
		}
}
var hourlist=[];
for(var i=0;i<24;i++){
	if(i<10){
		hourlist.push(["0"+i,i+"点"]);
	}else{
		hourlist.push([i,i+"点"]);
	}
}
function ct_ad(data){
	var sum=0;
	for(var vo in data){
		sum+=parseFloat( data[vo].showup);
	}
	$("#sumpushad").text(sum);
}
function ct_shopad(data){
	var sum=0;
	for(var vo in data){
		sum+=parseFloat( data[vo].showup);
	}
	$("#sumshopad").text(sum);
}
function init_chart(data){
	var bt=[];
	var bt_reg=[];
	var bt_phone=[];
	var bt_log=[];
	var bt_key=[];
	data=eval(data)  ;
	for(var vo in data){
		bt.push([data[vo].t,data[vo].ct]);
		bt_reg.push([data[vo].t,data[vo].ct_reg]);
		bt_phone.push([data[vo].t,data[vo].ct_phone]);
		bt_key.push([data[vo].t,data[vo].ct_key]);
		bt_log.push([data[vo].t,data[vo].ct_log]);
	}
	var ds=[{label:"总数",data:bt},{label:"注册认证",data:bt_reg},{label:"手机认证",data:bt_phone},{label:"一键上网",data:bt_key},{label:"帐号登录",data:bt_log},];
	$.plot($("#authchart"), ds, {grid: { hoverable: true, clickable: true, borderColor:'#000',borderWidth:1},xaxis:{ticks:hourlist},series:{lines:{fill:true, show: true}, points:{show: true,}}});
	ct_auth(data);
}

function ct_auth(data){
	var sum=0;
	for(var vo in data){
		sum+=parseFloat( data[vo].ct);
	}
	$("#sumauth").text(sum);
}
function ct_user(data){
	var sum=0;
	for(var vo in data){
		sum+=parseFloat( data[vo].totalcount);
	}
	$("#sumuser").text(sum);
}

function authchart(authurl){
		  $.ajax({
			  url: authurl,
		        type: "get",
				data:{
					'mode':'today'
					},
				dataType:'json',
				success:function(data){
					init_chart(data);
				}
			  });
	  	  
}

function shopad(authurl){
	$.ajax({
			  url: authurl,
		        type: "get",
				data:{
					'mode':'today'
					},
				dataType:'json',
				success:function(data){
						var bt=[];
						var bt_hit=[];
						data=eval(data);
						for(var vo in data){
							
							bt.push([data[vo].t,data[vo].showup]);
							bt_hit.push([data[vo].t,data[vo].hit]);
						}
						var dataset=[{label:"广告展示",data:bt},{label:"广告点击",data:bt_hit}];
						 $.plot($("#shopchart"), dataset, {grid: { hoverable: true, clickable: true, borderColor:'#000',borderWidth:1},xaxis:{ticks:hourlist},series:{lines:{fill:true, show: true}, points:  { show: true,}}});
							ct_shopad(data);
				}
			  });
}
function adchar(charurl){
	$.ajax({ url: charurl,
			        type: "get",
					data:{
						'mode':'today'
						
						},
					dataType:'json',
				
					success:function(data){
							var bt=[];
							var bt_hit=[];
							data=eval(data);
							for(var vo in data){
								
								bt.push([data[vo].t,data[vo].showup]);
								bt_hit.push([data[vo].t,data[vo].hit]);
							}
							var dataset=[{label:"广告展示",data:bt},{label:"广告点击",data:bt_hit}];
							 $.plot($("#pushchart"), dataset, {grid: { hoverable: true, clickable: true, borderColor:'#000',borderWidth:1},xaxis:{ticks:hourlist},series:{lines:{fill:true, show: true}, points:{ show: true,}}});
							
								ct_ad(data);
					}
				  });
}
function mchart(authurl){
	$.ajax({
		  url: authurl,
	        type: "get",
			data:{
				'mode':'today'
				
				},
			dataType:'json',
			success:function(data){
					data=eval(data);
					var bt_total=[];
					var bt_reg=[];
					var bt_phone=[];
					data=eval(data);
					for(var vo in data){
						bt_total.push([data[vo].t,data[vo].totalcount]);
						bt_reg.push([data[vo].t,data[vo].regcount]);
						bt_phone.push([data[vo].t,data[vo].phonecount]);
					}
					var dataset=[{label:"注册总人数",data:bt_total},{label:"帐号注册",data:bt_reg},{label:"手机注册",data:bt_phone}];
					$.plot($("#userchart"), dataset, {grid: { hoverable: true, clickable: true, borderColor:'#000',borderWidth:1},xaxis:{ticks:hourlist},series:{lines:{fill:true, show: true}, points:{ show: true,}}});
				ct_user(data);	
			}
		  });
}
$(function(){
	
	
		authchart('<#:U('index/getauthrpt')#>');
		shopad('<#:U('admanage/adrpt')#>');
		mchart('<#:U('index/getuserchart')#>');
	
		adchar('<#:U('pushadv/rpt')#>');
		
	
	//
	maruti.peity();

});
function my(){
			$('#line').show();
    		$('#yesterday').hide();
    		$('#month').hide();
    		$('#new').hide();
		}
    $(document).ready(function(){
	$("#forline").bind('click',function(){
    		$('#line').show();
    		$('#yesterday').hide();
    		$('#month').hide();
    		$('#new').hide();
    	});
    	$("#foryesterday").bind('click',function(){
    		$('#line').hide();
    		$('#yesterday').show();
    		$('#month').hide();
    		$('#new').hide();
    	});
    	$("#formonth").bind('click',function(){
    		$('#line').hide();
    		$('#yesterday').hide();
    		$('#month').show();
    		$('#new').hide();
    	});
  });
setTimeout('my()',100);
 $('.datepicker').datepicker();
</script>

</body>
</html>
